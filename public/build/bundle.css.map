{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../Dashboard.svelte"
  ],
  "sourcesContent": [
    "<button on:click={additem} class=\"btn btn-large additem\">\n  <i class=\"fa fa-plus bg-success rounded-circle p-3 text-white\"></i>\n</button>\n\n\n<div class=\"container\">\n    <table class=\"table table-dark mt-4 table-bordered \">\n  <thead>\n    <tr class=\"d-flex\">\n      <th scope=\"col\" class=\"col-7\" >Task</th>\n      <th scope=\"col\" class=\"col-1\" >Completed</th>\n      <th scope=\"col\" class=\"col-2\" >Due Date</th>\n      <th scope=\"col\" class=\"col-2\" >Actions</th>\n    </tr>\n  </thead>\n  <tbody>\n    {#each items as item}\n     <tr class=\"d-flex\">\n      <td class=\"col-7\">{item.content}</td>\n      <td class=\"col-1\">{item.completed}</td>\n      <td class=\"col-2\">\n          {#if item.due_date}\n          {item.due_date}\n          {:else}\n            no date set\n          {/if}\n        </td>\n      <td class=\"col-2 d-flex\">\n         <div class=\"ml-2 \" on:click={editItem(item.id,item.content,item.completed,item.due_date)}>\n              <i class=\"fa fa-edit \" title=\"edit\"></i>\n         </div>\n         <div class=\"ml-2\">\n            <i class=\"fa fa-check \" on:click={() => item.completed = true} title=\"mark as done\"></i>\n         </div>\n         <div class=\"ml-2\" on:click={deleteItem(item.id)}>\n            <i class=\"fa fa-trash \" title=\"delete\"></i>\n         </div>\n      </td>\n    </tr>\n    {/each}\n\n  </tbody>\n</table>\n</div>\n\n<!-- modal to add items -->\n<div class=\"modal\" id=\"modal\" tabindex=\"-1\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header bg-success text-white\">\n        <h5 class=\"modal-title\">Add New To Do Item</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n       <!-- form -->\n       <form >\n            <div class=\"mb-3\">\n                <label for=\"exampleInputEmail1\" class=\"form-label\">To Do Item</label>\n                <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" bind:value={content}>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"exampleInputPassword1\" class=\"form-label\">Due Date</label>\n                <input type=\"date\" class=\"form-control\" id=\"exampleInputPassword1\" bind:value={due_date}>\n            </div>\n            <div class=\"mb-3 form-check\">\n                <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\" bind:checked={completed}>\n                <label class=\"form-check-label\" for=\"exampleCheck1\">Completed status</label>\n            </div>\n            <button on:click|preventDefault={addItemDb}  data-dismiss=\"modal\" type=\"submit\" class=\"btn btn-success\">Add Item</button>\n            </form>\n      </div>\n\n    </div>\n  </div>\n</div>\n\n<!-- modal to edit and update data -->\n<div class=\"modal\" id=\"modal1\" tabindex=\"-1\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header bg-success text-white\">\n        <h5 class=\"modal-title\">Add New To Do Item</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n       <!-- form -->\n       <form >\n            <div class=\"mb-3\">\n                <label for=\"exampleInputEmail1\" class=\"form-label\">To Do Item</label>\n                <input type=\"text\" class=\"form-control\" id=\"updatecontet\" aria-describedby=\"emailHelp\" bind:value={content}>\n            </div>\n            <div class=\"mb-3\">\n                <label for=\"exampleInputPassword1\" class=\"form-label\">Due Date</label>\n                <input type=\"date\" class=\"form-control\" id=\"updatedate\" bind:value={due_date}>\n            </div>\n            <div class=\"mb-3 form-check\">\n                <input type=\"checkbox\" class=\"form-check-input\" id=\"updatedone\" bind:checked={completed}>\n                <label class=\"form-check-label\" for=\"exampleCheck1\">Completed status</label>\n            </div>\n            <button on:click|preventDefault={updateItem} data-dismiss=\"modal\" type=\"submit\" class=\"btn btn-success\">Save Changes</button>\n            </form>\n      </div>\n\n    </div>\n  </div>\n</div>\n<style>\n.additem{\n    position: fixed;\n    right: 3rem;\n    bottom: 2rem;\n}\n</style>\n\n<script>\n    import {db} from './firebase.js'\n    import { onMount } from 'svelte';\n    \n    let items = []\n    let content = ''\n    let completed = false;\n    let due_date = null\n    let docid = null\n\n    \n\n    const additem = () => {\n         content = ''\n         completed = false;\n         due_date = null\n         \n        var myModal = document.getElementById('modal')\n        var modal = new bootstrap.Modal(myModal)\n        modal.toggle()\n    }\n    const addItemDb = () => {\n        if (due_date != null) {\n           due_date = new Date(due_date).getTime()\n        } else {\n            due_date = due_date\n        }\n        console.log(completed)\n        db.collection('Todo').add({completed , content , due_date})\n        getItems();\n    }\n\n    const deleteItem = (e) => {\n        db.collection('Todo').doc(e).delete()\n        getItems();\n    }\n\n    function editItem (id,text,done,date){\n        content = text\n        completed = done\n        due_date = date\n        docid = id\n        var myModal = document.getElementById('modal1')\n        var modal = new bootstrap.Modal(myModal)\n        modal.toggle()\n\n    }\n\n    function updateItem(){\n\n        content = document.getElementById('updatecontet').value\n\n\n        if(document.getElementById('updatedate').value){\n        due_date = document.getElementById('updatedate').value\n        }else{\n            due_date = null\n        }\n        db.collection('Todo').doc(docid).update({\n            'content':content,\n            'due_date':due_date,\n            'completed':completed\n        })\n\n      getItems();\n    }\n\n\n    function getItems (){\n               let itemres=[]\n             db.collection(\"Todo\").get().then(function(querySnapshot) {\n            querySnapshot.forEach(function(doc) {\n                const result = {\n                    id:doc.id,\n                    content:doc.data().content,\n                    due_date:doc.data().due_date,\n                    completed:doc.data().completed,\n                }\n\n                if(result.due_date){\n                result.due_date= new Date(result.due_date).toLocaleString()\n\n                }\n                 itemres.push(result)\n            });\n              items = itemres\n        });\n       \n    }\n\n  onMount( async () => {\n    await getItems()\n});\n    \n</script>"
  ],
  "names": [],
  "mappings": "AA+GA,sBAAQ,CAAC,AACL,QAAQ,CAAE,KAAK,CACf,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,AAChB,CAAC"
}